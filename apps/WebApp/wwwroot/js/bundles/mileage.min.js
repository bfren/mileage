function handleResult(n,t,i){console.log(n);n.success&&t?t&&t(n.value):i&&i(n.reason);n.redirectTo&&(window.location.href=n.redirectTo)}document.addEventListener("submit",n=>{const t=n.target,i=new FormData(t);axios.request({url:t.action,method:t.method,data:i,headers:{"Content-Type":"multipart/form-data"}}).then(n=>{handleResult(n.data)}).catch(n=>{console.log(n)});n.preventDefault()});